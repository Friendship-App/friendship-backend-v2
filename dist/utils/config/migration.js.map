{"version":3,"sources":["../../../src/utils/config/migration.js"],"names":["env","process","NODE_ENV","dotenv","config","silent","requiredEnvironmentVariables","forEach","key","console","log","Error","migrations","db","development","seeds","directory","production"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,MAAMC,QAAQD,GAApB;;AAEA,IAAI,CAACA,IAAIE,QAAL,IAAiBF,IAAIE,QAAJ,KAAiB,aAAtC,EAAqD;AACnDC,mBAAOC,MAAP,CAAc,EAAEC,QAAQ,IAAV,EAAd;AACD;;AAED,MAAMC,+BAA+B,CAAC,cAAD,EAAiB,QAAjB,CAArC;;AAEA,IACEN,IAAIE,QAAJ,IACCF,IAAIE,QAAJ,KAAiB,aAAjB,IAAkCF,IAAIE,QAAJ,KAAiB,MAFtD,EAGE;AACAI,+BAA6BC,OAA7B,CAAqCC,OAAO;AAC1C,QAAI,CAACR,IAAIQ,GAAJ,CAAL,EAAe;AACb;AACAC,cAAQC,GAAR,CAAa,iCAAgCF,GAAI,WAAjD;AACA;;AAEA,YAAM,IAAIG,KAAJ,CAAU,WAAV,CAAN;AACD;AACF,GARD;AASD;;AAED,MAAMC,0BACDC,YADC;AAEJC,4BACKD,YADL;AAEEE,WAAO;AACLC,iBAAW;AADN;AAFT,IAFI;AAQJC,2BACKJ,YADL;AAEEE,WAAO;AAFT;AARI,EAAN;;kBAceH,U","file":"migration.js","sourcesContent":["import db from './db';\nimport dotenv from 'dotenv';\n\nconst env = process.env;\n\nif (!env.NODE_ENV || env.NODE_ENV === 'development') {\n  dotenv.config({ silent: true });\n}\n\nconst requiredEnvironmentVariables = ['DATABASE_URL', 'SECRET'];\n\nif (\n  env.NODE_ENV &&\n  (env.NODE_ENV !== 'development' && env.NODE_ENV !== 'test')\n) {\n  requiredEnvironmentVariables.forEach(key => {\n    if (!env[key]) {\n      /* eslint-disable no-console */\n      console.log(`Warning: Environment variable ${key} not set.`);\n      /* eslint-enable no-console */\n\n      throw new Error('Quitting.');\n    }\n  });\n}\n\nconst migrations = {\n  ...db,\n  development: {\n    ...db,\n    seeds: {\n      directory: 'seeds-dev',\n    },\n  },\n  production: {\n    ...db,\n    seeds: 'seeds-props',\n  },\n};\n\nexport default migrations;\n"]}