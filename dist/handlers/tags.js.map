{"version":3,"sources":["../../src/handlers/tags.js"],"names":["getTags","request","reply","then","data","response","getUserTags","query","userId","pre","user","id","registerTags","lovedTags","hatedTags","userTags","formatTags","console","log","tags","love","tmpUserTags","map","tag","push","tagId"],"mappings":";;;;;;;AAAA;;AAEO,MAAMA,4BAAU,CAACC,OAAD,EAAUC,KAAV,KACrB,uBAAYC,IAAZ,CAAiBC,QAAQF,MAAMG,QAAN,CAAeD,IAAf,CAAzB,CADK;;AAGA,MAAME,oCAAc,CAACL,OAAD,EAAUC,KAAV,KACzB,yBAAcD,QAAQM,KAAR,CAAcC,MAA5B,EAAoCP,QAAQQ,GAAR,CAAYC,IAAZ,CAAiBC,EAArD,EAAyDR,IAAzD,CAA8DC,QAC5DF,MAAMG,QAAN,CAAeD,IAAf,CADF,CADK;;AAKA,MAAMQ,sCAAe,CAACJ,MAAD,EAASK,SAAT,EAAoBC,SAApB,KAAkC;AAC5D,MAAIC,WAAW,EAAf;AACAA,aAAWC,WAAWR,MAAX,EAAmBK,SAAnB,EAA8BE,QAA9B,EAAwC,IAAxC,CAAX;AACAA,aAAWC,WAAWR,MAAX,EAAmBM,SAAnB,EAA8BC,QAA9B,EAAwC,KAAxC,CAAX;AACAE,UAAQC,GAAR,CAAYH,QAAZ;AACA,SAAO,0BAAeA,QAAf,CAAP;AACD,CANM;;AAQP,SAASC,UAAT,CAAoBR,MAApB,EAA4BW,IAA5B,EAAkCJ,QAAlC,EAA4CK,IAA5C,EAAkD;AAChD,QAAMC,cAAcN,QAApB;AACAI,OAAKG,GAAL,CAASC,OAAOF,YAAYG,IAAZ,CAAiB,EAAEhB,MAAF,EAAUiB,OAAOF,GAAjB,EAAsBH,IAAtB,EAAjB,CAAhB;AACA,SAAOC,WAAP;AACD","file":"tags.js","sourcesContent":["import { dbGetTags, dbGetUserTags, dbRegisterTags } from '../models/tags';\n\nexport const getTags = (request, reply) =>\n  dbGetTags().then(data => reply.response(data));\n\nexport const getUserTags = (request, reply) =>\n  dbGetUserTags(request.query.userId, request.pre.user.id).then(data =>\n    reply.response(data),\n  );\n\nexport const registerTags = (userId, lovedTags, hatedTags) => {\n  let userTags = [];\n  userTags = formatTags(userId, lovedTags, userTags, true);\n  userTags = formatTags(userId, hatedTags, userTags, false);\n  console.log(userTags);\n  return dbRegisterTags(userTags);\n};\n\nfunction formatTags(userId, tags, userTags, love) {\n  const tmpUserTags = userTags;\n  tags.map(tag => tmpUserTags.push({ userId, tagId: tag, love }));\n  return tmpUserTags;\n}\n"]}